<ion-header >

    <ion-navbar primary>
        <ion-title text-center>Order List</ion-title>
        <ion-buttons end>
            <button (click)="presentPopover($event)">
                <ion-icon name="more"></ion-icon>
            </button>
        </ion-buttons>
    </ion-navbar>

</ion-header>
<ion-content class="orderlist">
    <ion-scroll scrollY="true">
        <div> 
            <ion-list no-lines class="avt">
                <ion-item>
                    <ion-avatar item-left>
                        <img src="./../../images/grey.jpg">
                    </ion-avatar>
                    <h1 text-capitalize>{{firstname + " " + lastname}}</h1>
                </ion-item>
            </ion-list>
            <ion-grid class="seg">
                <ion-row  *ngIf="ttl_show">
                    <ion-col style="border-right: 1px solid grey;">TOTAL ORDERS <h6>{{totalOrders}}</h6></ion-col>
                    <ion-col>TOTAL AMOUNT<h6> &#8377;{{totalAmount}}</h6></ion-col>
                </ion-row>
            </ion-grid>
<!--            <ion-list no-lines>
                <form>
                    <ion-item>
                        <ion-label>From Date</ion-label>
                        <ion-datetime displayFormat="YYYY MMM DD" [(ngModel)]="event.timeStarts" name="dateStart" required></ion-datetime>
                    </ion-item>

                    <ion-item>
                        <ion-label>To Date</ion-label>
                        <ion-datetime displayFormat="YYYY MMM DD" [(ngModel)]="event.timeEnds" name="dateEnds" required></ion-datetime>
                    </ion-item>
                    <button type="submit" full (click)="get_orders()">Get Orders</button>
                </form>
            </ion-list>-->

            <h2 class="center" *ngIf="no_orders">{{orders_error}}</h2>
            <ion-list no-lines *ngFor="let date of dates">
                      <ion-list-header>{{date| date: 'dd/MM/yyyy'}}</ion-list-header>
                <ion-item class="orders">
                    <section id="cd-timeline" class="cd-container"  *ngFor="let data of values">
                             <div class="cd-timeline-block" *ngIf="(date| date: 'dd/MM/yyyy')==(data.value.created_at| date: 'dd/MM/yyyy')">
                         <div class="cd-timeline-icon">
                                <ion-icon *ngIf="data.value.status=='holded'" name="close-circle" danger></ion-icon> 
                                <ion-icon *ngIf="data.value.status=='pending'" name="alert" warning></ion-icon> 
                            </div>   
                            <div (click)="presentModal(data.key)">
                                <span style="margin-left: 37px;">#{{data.key}}</span>
                                <span style="float: right;color: #858585">{{data.value.created_at | date: 'hh:mm'}}</span>
                                <div class="cd-timeline-content">
                                    <h2>Amount: &#8377;{{data.value.grand_total}}</h2>
                                    <h2 text-capitalize>Status: {{data.value.status}}</h2>
                                    <hr>
                                </div>
                            </div>

                        </div>
                    </section>
                </ion-item>
            </ion-list>
        </div>
    </ion-scroll>
</ion-content>