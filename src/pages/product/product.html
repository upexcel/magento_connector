<header></header>
<ion-content class="product">
    <ion-spinner id="magLeft50" *ngIf="spin"></ion-spinner>
    <ion-grid class="pad56" no-padding *ngIf="spin==false">
              <ion-row  responsive-lg responsive-md responsive-sm>
            <ion-col no-padding width-100 >
                <div class="imgbox">
                    <img src="{{images}}" class=" img cursorPointer"/>
                </div>
                <ion-slides pager #mySlider [options]="mySlideOptions" *ngIf="productData">
                            <ion-slide>
                        <ion-row class="center">
                            <ion-col class="maxWT" *ngFor = "let img of productData.data.data.media_images" (click)="slideClick(img)" >
                                     <img src="{{img}}" class="cursorPointer maxHt"/>
                            </ion-col>
                        </ion-row>
                    </ion-slide>
                </ion-slides>
                <ion-row class="padLeft10">
                    <ion-col>
                        <h2>{{productData.data.data.name}}</h2>
                    </ion-col>
                </ion-row>
                <ion-row class="padLeft10"> 
                    <ion-col no-padding> 
                        <p [ngClass]="{'line': sp_priceShow==true}" class="price">{{price}}</p>
                        <p class="sPrice" *ngIf="sp_priceShow == true" >{{final_price}}</p>
                    </ion-col>
                </ion-row>
                <ion-row wrap>
                    <ion-col width-50 *ngFor="let key of keys">
                             <ion-item class="selectlist">
                            <ion-label no-margin class="font12">{{productData.data.associated_products.attributes[key].label}}</ion-label>
                            <ion-label no-margin class="font12" *ngIf="productData.data.associated_products.attributes[key].label=='Color'">
                                <ion-buttons class="alignright">
                                    <ion-icon name="radio-button-on" dark id="color"></ion-icon>
                                </ion-buttons>
                            </ion-label>
                            <ion-select [(ngModel)]="res[key]"  [placeholder]="0"  (ngModelChange)="onChange(res,key)">
                                <span *ngFor= "let obj of productData.data.associated_products.attributes[key].options">
                                    <ion-option *ngIf="selectshow || obj.shown"  [value]="obj" >
                                        <ion-label no-margin class="font12">
                                            {{obj.label}}
                                        </ion-label>
                                    </ion-option>
                                </span>
                            </ion-select>
                        </ion-item>
                    </ion-col>
                </ion-row>
                <ion-row>
                    <ion-col>
                        <p class="font13 padLeft10">{{productData.data.data.short_description}}</p>
                    </ion-col>
                </ion-row>
                <div *ngIf="reviewShow">
                    <ion-card class="card" >
                        <ion-card-content class="no-padding">
                            <ion-row>
                                <ion-col>
                                    <ion-row>
                                        <ion-col>
                                            <p class="margin-but totalReviewAvg20">{{productReview.data.rating}}&nbsp;/&nbsp;5</p>
                                        </ion-col>
                                    </ion-row>
                                    <ion-row >
                                        <ion-col class="rating-box ">
                                            <ion-buttons class="alignright" *ngFor="let number of review">
                                                         <ion-icon name="star"  class="rating color" ></ion-icon>
                                            </ion-buttons>
                                        </ion-col>
                                    </ion-row>
                                    <ion-row class="margin-top15">
                                        <ion-col>
                                            <p class="gray">{{noOfREView}} Review(s)</p>
                                        </ion-col>
                                    </ion-row>
                                </ion-col>
                                <ion-col>
                                    <ion-buttons  *ngFor="let number of review">
                                        <span>{{number}} </span> <ion-icon name="star" ></ion-icon> 
                                    </ion-buttons>
                                </ion-col>
                            </ion-row>
                            <ion-row class="uppercase">
                                <ion-col class="no-padding">
                                    <button no-padding ion-button color="primary" full  (click)="addReview(productData.data)" >  <p class="white"> Rate and write a review </p></button>
                                </ion-col>
                            </ion-row>
                        </ion-card-content>

                    </ion-card>
                    <ion-list class="padLeft10">
                        <ion-item *ngFor=" let data of reviewTwo ;  let i = index; ">
                            <p color="dark">{{i+1}}).<span class="color">{{data.title}}</span></p>
                            <p color="dark">{{data.detail}}</p>
                            <p><span class="color" >by {{data.nickname}}</span><span> / (POSTED ON <span class="color">{{data.created_at}} </span>)</span></p>
                        </ion-item>
                        <div *ngIf="moreReviewShow">
                            <ion-item *ngFor=" let data of otherreview;  let i = index; ">
                                <p color="dark">{{i+3}}).<span class="color">{{data.title}}</span></p>
                                <p color="dark">{{data.detail}}</p>
                                <p><span class="color" >by {{data.nickname}}</span><span> / (POSTED ON <span class="color">{{data.created_at}} </span>)</span></p>
                            </ion-item>
                        </div>
                        <ion-item  (click)="moreReview()">
                            <ion-buttons >
                                <span>All {{noOfREView}} Review </span> <ion-icon name="arrow-dropright" class="floatRight"></ion-icon> 
                            </ion-buttons>
                        </ion-item>
                    </ion-list>
                    <ion-spinner id="magLeft50" *ngIf="spinReview"></ion-spinner>
                    <div *ngIf=writeReview>
                        <ion-row>
                            <ion-col >
                                <p class="uppercase padLeft10"> HOW DO YOU RATE THIS PRODUCT?</p>

                            </ion-col>
                        </ion-row>
                        <ion-row class="padLeft10">
                            <ion-col></ion-col>
                            <ion-col class="rating-box">
                                <ion-buttons class="alignright " >
                                    1<ion-icon name="star"  class="rating"></ion-icon>
                                </ion-buttons>
                            </ion-col>
                            <ion-col class="rating-box">
                                <ion-buttons class="alignright " >
                                    2<ion-icon name="star"  class="rating"></ion-icon>
                                </ion-buttons>
                            </ion-col>
                            <ion-col class="rating-box">
                                <ion-buttons class="alignright " >
                                    3 <ion-icon name="star"  class="rating"></ion-icon>
                                </ion-buttons>
                            </ion-col>
                            <ion-col class="rating-box">
                                <ion-buttons class="alignright ">
                                    4 <ion-icon name="star"  class="rating"></ion-icon>
                                </ion-buttons>
                            </ion-col>
                            <ion-col class="rating-box">
                                <ion-buttons class="alignright ">
                                    5 <ion-icon name="star"  class="rating"></ion-icon>
                                </ion-buttons>
                            </ion-col>
                        </ion-row>
                        <ion-row class="padLeft10"  *ngFor="let title of reviewTitle" radio-group [(ngModel)]="reviewData[title]" (ngModelChange)="onSelectRatting(reviewData,title)">
                                 <ion-col width-20>
                                     <p class="uppercase">  {{title}} </p>
                            </ion-col>
                            <ion-col><ion-radio  value="1"></ion-radio></ion-col>
                            <ion-col><ion-radio  value="2"></ion-radio></ion-col>
                            <ion-col><ion-radio  value="3"></ion-radio></ion-col>
                            <ion-col><ion-radio  value="4"></ion-radio></ion-col>
                            <ion-col><ion-radio  value="5"></ion-radio></ion-col>
                        </ion-row>
                        <ion-row>
                            <ion-col>
                                <p class="uppercase padLeft10">Let us know your thoughts</p>
                            </ion-col>                      
                        </ion-row>

                        <ion-row class="padLeft10">
                            <ion-col >
                                <textarea name="comment" form="usrform" class="textarea"  required [(ngModel)]="reviewDataDetails">Enter text here...</textarea>

                            </ion-col> 
                        </ion-row>
                        <ion-row>
                            <ion-col>
                                <p class="uppercase padLeft10">Summary of Your Review</p>
                            </ion-col> 
                        </ion-row >
                        <ion-row class="padLeft10">
                            <ion-col>
                                <input type="text" value="" class="text " required [(ngModel)]="reviewDataTitle">
                            </ion-col> 
                        </ion-row>
                        <ion-row >
                            <ion-col>
                                <p class="uppercase padLeft10">What's your nickname?</p>
                            </ion-col> 
                        </ion-row>
                        <ion-row class="padLeft10">
                            <ion-col>
                                <input type="text" value="" class="text"  required [(ngModel)]="reviewDataNickname">
                            </ion-col> 
                        </ion-row>
                        <ion-row center >
                            <ion-col class="center  ">
                                <button  ion-button color="primary" round  (click)="submitReview()">SUBMIT REVIEWS</button>
                            </ion-col>
                        </ion-row>
                    </div>
                    <div *ngIf="wrireReview">
                        <ion-row>
                            <ion-col >
                                <p class="uppercase padLeft10"> HOW DO YOU RATE THIS PRODUCT?</p>

                            </ion-col>
                        </ion-row>
                        <ion-row class="padLeft10">
                            <ion-col></ion-col>
                            <ion-col class="rating-box">
                                <ion-buttons class="alignright " >
                                    1<ion-icon name="star"  class="rating"></ion-icon>
                                </ion-buttons>
                            </ion-col>
                            <ion-col class="rating-box">
                                <ion-buttons class="alignright " >
                                    2<ion-icon name="star"  class="rating"></ion-icon>
                                </ion-buttons>
                            </ion-col>
                            <ion-col class="rating-box">
                                <ion-buttons class="alignright " >
                                    3 <ion-icon name="star"  class="rating"></ion-icon>
                                </ion-buttons>
                            </ion-col>
                            <ion-col class="rating-box">
                                <ion-buttons class="alignright ">
                                    4 <ion-icon name="star"  class="rating"></ion-icon>
                                </ion-buttons>
                            </ion-col>
                            <ion-col class="rating-box">
                                <ion-buttons class="alignright ">
                                    5 <ion-icon name="star"  class="rating"></ion-icon>
                                </ion-buttons>
                            </ion-col>
                        </ion-row>
                        <ion-row class="padLeft10"  *ngFor="let title of reviewTitle" radio-group [(ngModel)]="reviewData[title]" (ngModelChange)="onSelectRatting(reviewData,title)">
                                 <ion-col width-20>
                                <p class="uppercase">{{title}}</p>
                            </ion-col>
                            <ion-col><ion-radio  value="1"></ion-radio></ion-col>
                            <ion-col><ion-radio  value="2"></ion-radio></ion-col>
                            <ion-col><ion-radio  value="3"></ion-radio></ion-col>
                            <ion-col><ion-radio  value="4"></ion-radio></ion-col>
                            <ion-col><ion-radio  value="5"></ion-radio></ion-col>
                        </ion-row>
                        <ion-row>
                            <ion-col>
                                <p class="uppercase padLeft10">Let us know your thoughts</p>
                            </ion-col>                      
                        </ion-row>

                        <ion-row class="padLeft10">
                            <ion-col >
                                <textarea name="comment" form="usrform" class="textarea"  required [(ngModel)]="reviewDataDetails">Enter text here...</textarea>

                            </ion-col> 
                        </ion-row>
                        <ion-row>
                            <ion-col>
                                <p class="uppercase padLeft10">Summary of Your Review</p>
                            </ion-col> 
                        </ion-row >
                        <ion-row class="padLeft10">
                            <ion-col>
                                <input type="text" value="" class="text " required [(ngModel)]="reviewDataTitle">
                            </ion-col> 
                        </ion-row>
                        <ion-row >
                            <ion-col>
                                <p class="uppercase padLeft10">What's your nickname?</p>
                            </ion-col> 
                        </ion-row>
                        <ion-row class="padLeft10">
                            <ion-col>
                                <input type="text" value="" class="text"  required [(ngModel)]="reviewDataNickname">
                            </ion-col> 
                        </ion-row>
                        <ion-row center >
                            <ion-col class="center  ">
                                <button  ion-button color="primary" full  (click)="submitReview()">SUBMIT REVIEWS</button>
                            </ion-col>
                        </ion-row>
                    </div>
                </div>
                <ion-row center class="uppercase" >
                    <ion-col class="center">
                        <button  ion-button color="primary" full  (click)="addCart(productData.data)" [disabled]=disable>ADD CART</button>
                    </ion-col>
                </ion-row>
            </ion-col>
        </ion-row>
    </ion-grid>
</ion-content>
