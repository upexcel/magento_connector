<header [title]="'Change Password'"></header>

<ion-content class="changepassword">
    <ion-refresher (ionRefresh)="doRefresh($event)">
        <ion-refresher-content
            pullingIcon="arrow-dropdown"
            pullingText="Pull to refresh"
            refreshingSpinner="circles"
            refreshingText="Refreshing...">
        </ion-refresher-content>
    </ion-refresher>
    <form #f="ngForm" id="form" novalidate (ngSubmit)="changepassword(f.value, f.valid)">
        <ion-item> 
            <ion-label floating>Old Password</ion-label>
            <ion-input type="password" id="oldpassword" [onReturn]='"newpassword"' name="password" [ngModel]="user.password" minlength="6" required reverse="true" #password="ngModel" autocorrect autocomplete clearInput></ion-input>
        </ion-item>
        <ion-item>
            <ion-label floating>New password</ion-label>
            <ion-input type="password" id="newpassword" [onReturn]='"confirmPassword"' name="newPassword" 
                       [ngModel]="user.password" #newPassword="ngModel"
                       required validateEqual="confirmPassword" reverse="true" minlength="6" autocorrect autocomplete clearInput></ion-input>
        </ion-item>        
        <ion-item>
            <ion-label floating>Confirm password</ion-label>
            <ion-input type="password"  name="confirmPassword"  id="confirmPassword" [onReturn]='"btn"'
                       [ngModel]="user.confirmPassword" #confirmPassword="ngModel" minlength="6" reverse="false"
                       required validateEqual="newPassword" autocorrect autocomplete clearInput></ion-input>
        </ion-item>
        <div class="buttChangePwd">
                <btn-round [title]='"Change Password"' [class]="'capitalize'" 
                [spin]="spin" [id]="'btn'" [valid]="!f.valid" ></btn-round>
        </div>
    </form>
</ion-content>
