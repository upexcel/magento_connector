<header></header>

<ion-content class="changepassword">
    <ion-refresher (ionRefresh)="doRefresh($event)">
        <ion-refresher-content
            pullingIcon="arrow-dropdown"
            pullingText="Pull to refresh"
            refreshingSpinner="circles"
            refreshingText="Refreshing...">
        </ion-refresher-content>
    </ion-refresher>
    <form #f="ngForm" id="form" novalidate (ngSubmit)="changepassword(f.value, f.valid)" >
        <ion-item> 
            <ion-label floating>Old Password</ion-label>
            <ion-input type="password"  name="password" [ngModel]="user.password" minlength="6" required reverse="true" #password="ngModel" autocorrect autocomplete clearInput></ion-input>
        </ion-item>
        <ion-item>
            <ion-label floating>New password</ion-label>
            <ion-input type="password"  name="newPassword" 
                       [ngModel]="user.password" #newPassword="ngModel"
                       required validateEqual="confirmPassword" reverse="true" minlength="6" autocorrect autocomplete clearInput></ion-input>
        </ion-item>        
        <ion-item>
            <ion-label floating>Confirm password</ion-label>
            <ion-input type="password"  name="confirmPassword"  
                       [ngModel]="user.confirmPassword" #confirmPassword="ngModel" minlength="6" reverse="false"
                       required validateEqual="newPassword" autocorrect autocomplete clearInput></ion-input>
        </ion-item>
        <div class="buttChangePwd">
            <button ion-button round  color="primary"  form="form" [disabled]="!f.valid">
                <span *ngIf="spin==false">Change Password</span>
                <ion-spinner *ngIf="spin" class="spin" ></ion-spinner>
            </button>
        </div>
    </form>
</ion-content>


